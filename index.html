<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Love üíñ</title>

<style>
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#ff758c,#ff7eb3);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.page {
  background: white;
  width: 90%;
  max-width: 380px;
  padding: 25px;
  border-radius: 25px;
  text-align: center;
  box-shadow: 0 20px 40px rgba(0,0,0,.25);
  display: none;
}

.page.active { display:block; }

button {
  background:#ff4d6d;
  color:white;
  border:none;
  padding:14px 28px;
  border-radius:30px;
  font-size:16px;
  margin:8px;
}

.yes1 { background:#ff4d6d; }
.yes2 { background:#f48fb1; }

input {
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:10px;
  border:1px solid #ccc;
}

img {
  width:100%;
  border-radius:15px;
}

.cover { margin: 15px 0; }

.grid {
  display:grid;
  grid-template-columns: repeat(3,1fr);
  gap:8px;
}

.grid img {
  height:100px;
  object-fit:cover;
}

/* ===== Fade in / out ===== */
@keyframes fadeInOut {
  0% { opacity:0; }
  20% { opacity:1; }
  80% { opacity:1; }
  100% { opacity:0; }
}

#ending img {
  animation: fadeInOut 1.5s ease-in-out;
}

#endText {
  font-size:18px;
  color:#ff4d6d;
  min-height:60px;
  animation: fadeInOut 1.5s ease-in-out;
}
</style>
</head>

<body>

<audio id="bgm" loop>
  <source src="music.MP3" type="audio/mpeg">
</audio>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å -->
<div class="page active" id="page1">
  <h2>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå‡∏ô‡∏∞ MINEGIFFY üíï</h2>
  <img src="cover.JPG" class="cover">
  <p>‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏∞‡πÉ‡∏¢‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞‚Ä¶ ‡∏´‡∏∏‡∏´‡∏∏</p>
  <button onclick="go('q1')">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢ ‚ù§Ô∏è</button>
</div>

<div class="page" id="q1">
  <h2>‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ü‡∏ô‡∏Å‡∏±‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏´‡∏° ü•∫</h2>
  <button class="yes1" onclick="go('q2')">‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏ô ‚ù§Ô∏è</button>
  <button class="yes2" onclick="go('q2')">‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô üíï</button>
</div>

<div class="page" id="q2">
  <h2>‡∏Ñ‡∏¥‡∏î‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πà‡∏°‡∏±‡πâ‡∏¢ üòè</h2>
  <button class="yes1" onclick="go('quiz')">‡∏à‡∏£‡∏¥‡∏á ‚ù§Ô∏è</button>
  <button class="yes2" onclick="go('quiz')">‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏∏‡∏î üíï</button>
</div>

<div class="page" id="quiz">
  <h2>‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞ üß†</h2>
  <input placeholder="‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏µ‡πà‡∏õ‡∏µ‡πÅ‡∏•‡πâ‡∏ß">
  <input placeholder="‡πÄ‡∏£‡∏≤‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô">
  <input placeholder="‡πÄ‡∏ò‡∏≠‡∏ä‡∏≠‡∏ö‡∏â‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô">
  <button onclick="go('result')">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö üíå</button>
</div>

<div class="page" id="result">
  <h2>‡πÄ‡∏¢‡πâ! üíñ</h2>
  <p>‡πÄ‡∏¢‡πá‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏û‡∏≤‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏≠‡∏£‡πà‡∏≠‡∏¢ ü•∞</p>
  <button onclick="startCamera()">‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏Å‡∏±‡∏ô üì∏</button>
</div>

<div class="page" id="camera">
  <video id="video" autoplay playsinline></video>
  <br><br>
  <button onclick="takePhoto()">‡∏ñ‡πà‡∏≤‡∏¢ üì∏</button>
</div>

<div class="page" id="photoPage">
  <h3>‡∏£‡∏π‡∏õ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üíï</h3>
  <img id="photo">
  <br><br>
  <button onclick="go('gallery')">‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥ ‚ù§Ô∏è</button>
</div>

<div class="page" id="gallery">
  <h3>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üíñ</h3>
  <div class="grid" id="grid"></div>
  <br>
  <button onclick="go('ending')">‡πÑ‡∏õ‡∏ï‡πà‡∏≠ üíï</button>
</div>

<div class="page" id="ending">
  <img id="endSlide">
  <p id="endText"></p>
</div>

<canvas id="canvas" style="display:none;"></canvas>

<script>
function go(id){
  const bgm = document.getElementById("bgm");
  if(bgm && bgm.paused) bgm.play();

  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  if(id === "ending") startEnding();
}

// Camera
async function startCamera(){
  go('camera');
  const stream = await navigator.mediaDevices.getUserMedia({video:true});
  document.getElementById('video').srcObject = stream;
}

function takePhoto(){
  const video = document.getElementById('video');
  const canvas = document.getElementById('canvas');
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  canvas.getContext('2d').drawImage(video,0,0);
  document.getElementById('photo').src = canvas.toDataURL();
  go('photoPage');
}

// Gallery
const grid = document.getElementById('grid');
for(let i=1;i<=50;i++){
  const img = document.createElement('img');
  img.src = `pic${i}.jpg`;
  img.onerror = () => img.remove();
  grid.appendChild(img);
}

// Ending slideshow
const endImages = [
  "pic1.jpg","pic2.jpg","pic3.jpg","pic4.jpg","pic5.jpg",
  "pic6.jpg","pic7.jpg","pic8.jpg","pic9.jpg","pic10.jpg"
];

const endMessages = [
  "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ üíï",
  "‡∏ó‡∏∏‡∏Å‡∏†‡∏≤‡∏û‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ‡πÜ",
  "‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏Ñ‡∏∑‡∏≠‡∏û‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤",
  "‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏à‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì",
  "‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞ ‚ù§Ô∏è"
];

let endIndex = 0;
let interval;

function startEnding(){
  const img = document.getElementById("endSlide");
  const text = document.getElementById("endText");

  clearInterval(interval);
  endIndex = 0;

  function update(){
    img.style.animation = "none";
    text.style.animation = "none";
    void img.offsetWidth;
    void text.offsetWidth;

    img.style.animation = "fadeInOut 1.5s ease-in-out";
    text.style.animation = "fadeInOut 1.5s ease-in-out";

    img.src = endImages[endIndex % endImages.length];
    text.innerText = endMessages[endIndex % endMessages.length];

    endIndex++;
  }

  update();
  interval = setInterval(update, 1500);
}
</script>

</body>
</html>
